# 任务机制设计方案

我们把传递的数据称为**任务**，创建这些数据的动作称为**发布任务**。直观地，我们可以在任务中记录这些数据：

```typescript
let link的任务 = {
    从: storage旁边的link,
    把: RESOURCE_ENERGY,
    搬到: storage
};

```

然后我们需要一个缓存池来存放这些任务。在这里我选择使用了Memory作为存放位置。

任务缓存池可以简单分为全局任务，房间运维任务两种，其中外矿相关任务就属于全局任务。这是所有任务都有的属性。

缓存池需要有优先级，在发布任务以后只需要遍历该缓存池并自动将任务发布给符合条件（比如距离，身体部件等要求）的creep，creep去完成就行。

现在使用了`Scorpior`大佬的优先队列算法。

````typescript

````
